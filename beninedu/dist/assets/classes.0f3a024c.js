import{_ as V}from"./header.5a2d5ffb.js";import{s as E,d as F,z as U,B as j,o as n,c,a as e,u as a,H as _,t as o,F as v,G as g,i as X,h as G,I as H,J as M,b as S,A as w,K as k,f as P,w as N,S as z,g as J}from"./index.6599f035.js";import{_ as K}from"./plugin-vue_export-helper.21dcd24c.js";const i=r=>(H("data-v-6ed969c5"),r=r(),M(),r),L={class:"container-fluid pt-4 px-4"},q={key:0,class:"bg-light rounded d-flex align-items-center p-4"},Q=i(()=>e("h5",null,"Nouvelle classe",-1)),W={key:1,class:"bg-light rounded d-flex align-items-center p-4"},Y={class:"bg-light rounded h-100 p-4"},Z=i(()=>e("h6",{class:"mb-4"},"Hoverable Table",-1)),ee={key:0,class:"table table-hover"},te=i(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"classe"),e("th",{scope:"col"},"Professeur principal"),e("th",{scope:"col"},"Nombre d'\xE9l\xE8ves"),e("th",{scope:"col"},"Eleve d\xE9l\xE9gu\xE9"),e("th",{scope:"col"},"Actions")])],-1)),le=["onDblclick"],se={scope:"row"},ae=["onClick"],oe=["onClick"],ne={key:1,class:"table table-hover"},ce=i(()=>e("thead",null,[e("tr",{class:"text-dark"},[e("th",{scope:"col"},"no"),e("th",{scope:"col"},"Nom"),e("th",{scope:"col"},"Pr\xE9nom"),e("th",{scope:"col"},"Genre"),e("th",{scope:"col"},"Date de naissance"),e("th",{scope:"col"},"Action")])],-1)),de={scope:"row"},ie=["onClick"],re={key:0,class:"modal-adduser"},ue=i(()=>e("div",{class:"overlay"},null,-1)),me={class:"modale card"},_e={class:"col-sm-12 col-xl-12"},pe={class:"bg-light rounded h-100 p-4"},he=i(()=>e("h6",{class:"mb-4"},"Creer une classe ",-1)),ve=["onSubmit"],be={class:"mb-3"},fe=S('<label for="Nom" class="form-label" data-v-6ed969c5>Nom de la classe</label><input name="name" type="text" class="form-control" id="Nom" data-v-6ed969c5><div class="mb-2 mt-2" data-v-6ed969c5><label class="form-label me-3" data-v-6ed969c5> Classe d&#39;examen</label><div class="form-check form-check-inline" data-v-6ed969c5><input class="form-check-input" type="radio" name="gender" id="inlineRadio1" value="F" data-v-6ed969c5><label class="form-check-label" for="inlineRadio1" data-v-6ed969c5>OUI </label></div><div class="form-check form-check-inline" data-v-6ed969c5><input class="form-check-input" type="radio" name="gender" id="inlineRadio2" value="M" data-v-6ed969c5><label class="form-check-label" for="inlineRadio2" data-v-6ed969c5>NON</label></div></div><label for="ProfPrincipal" class="form-label" data-v-6ed969c5>Prof. Principal</label>',4),ge={name:"ProfPrincipal",class:"form-select form-select-sm mb-3","aria-label":".form-select-sm example"},ke=["value"],ye=S('<label for="eleveDelegue" class="form-label" data-v-6ed969c5>Eleve delegue</label><select name="eleveDelegue" class="form-select form-select-sm mb-3" aria-label=".form-select-sm example" data-v-6ed969c5><option value="Ilan" data-v-6ed969c5>Ilan</option><option value="yoan" data-v-6ed969c5>yoan</option><option value="samuel" data-v-6ed969c5>samuel</option></select>',2),xe=i(()=>e("button",{type:"submit",class:"btn btn-primary"},"Ajouter",-1)),Ce={async setup(r){let u,b;async function D(s){let l="classe/"+s;return console.log(l,"obj"),(await k.api3(l)).data}let d=E(),{paginationc:we,classe:I,student:Pe,classStudents:y,classSelector:m,prof:A}=F(d),B=d.$state.classe;d.$state.student;let p=U({addclasse:!1,lt:""});async function O(s){let l=[];for(let t=0;t<s.length;t++)console.log(l[t],"new",s[t].name),l[t]=await D(s[t].name);return l}let x=([u,b]=j(()=>O(B)),u=await u,b(),u);console.log(x[0]);function T(s){w.post("/api/v1/classe",{name:s.name,ProfPrincipal:s.ProfPrincipal,eleveDelegue:s.eleveDelegue}).then(async function(l){let t=await k.api3("classe");d.$patch({classe:t.data})}).catch(function(l){console.log(l)})}const R=async function(s){const l=Object.fromEntries(new FormData(s.target));T(l),p.addclasse=!1};function C(s){console.log("id:",s),w.delete("/api/v1/classe/"+s).then(async function(l){let t=await k.api3("classe");d.$patch({classe:t.data}),console.log(l)}).catch(l=>{console.log(l)})}function $(s){d.$patch({classSelector:s}),console.log(s,"val")}return(s,l)=>(n(),c(v,null,[e("div",L,[a(m)===null?(n(),c("div",q,[e("button",{type:"button",class:"btn btn-rounded btn-primary m-2",onClick:l[0]||(l[0]=t=>a(p).addclasse=!0)},"+"),Q])):_("",!0),a(m)!==null?(n(),c("div",W,[e("h5",null,o(a(m))+" "+o(a(y).length),1),e("div",{onClick:l[1]||(l[1]=t=>a(d).$patch({classSelector:null}))},"back")])):_("",!0),e("div",Y,[Z,a(m)===null?(n(),c("table",ee,[te,e("tbody",null,[(n(!0),c(v,null,g(a(I),(t,h)=>(n(),c("tr",{onDblclick:f=>$(t.name)},[e("th",se,o(h+1),1),e("td",null,o(t.name),1),e("td",null,o(t.ProfPrincipal),1),e("td",null,o(a(x)[h]),1),e("td",null,o(t.eleveDelegue),1),e("td",null,[e("div",{onClick:f=>C(t._id),class:"btn btn-sm btn-danger m-2"},"X",8,ae),e("div",{onClick:f=>$(t.name)},"TOUT",8,oe)])],40,le))),256))])])):_("",!0),a(m)!==null?(n(),c("table",ne,[ce,e("tbody",null,[(n(!0),c(v,null,g(a(y),(t,h)=>(n(),c("tr",null,[e("th",de,o(h+1),1),e("td",null,o(t.name),1),e("td",null,o(t.surname),1),e("td",null,o(t.gender),1),e("td",null,o(t.dateOfBirth),1),e("td",null,[e("div",{onClick:f=>C(t._id),class:"btn btn-sm btn-danger m-2"},"X",8,ie)])]))),256))])])):_("",!0)])]),a(p).addclasse==!0?(n(),c("div",re,[ue,e("div",me,[e("div",{onClick:l[2]||(l[2]=t=>a(p).addclasse=!1),class:"btn-modale btn btn-danger"}," X "),e("div",_e,[e("div",pe,[he,e("form",{onSubmit:X(R,["prevent"])},[e("div",be,[fe,e("select",ge,[(n(!0),c(v,null,g(a(A),t=>(n(),c("option",{value:t.name},o(t.name),9,ke))),256))]),ye]),xe],40,ve)])])])])):_("",!0),G(" "+o(),1)],64))}};var $e=K(Ce,[["__scopeId","data-v-6ed969c5"]]);const Ie={setup(r){return(u,b)=>(n(),P(V,null,{default:N(()=>[(n(),P(z,null,{default:N(()=>[J($e)]),_:1}))]),_:1}))}};export{Ie as default};
