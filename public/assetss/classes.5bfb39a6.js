import{_ as j}from"./header.b0c3df43.js";import{j as F,s as U,k as M,l as X,m as q,o as n,c,a as e,n as a,p,t as o,F as f,q as g,w as z,v as G,x as H,y as L,b as D,A as P,z as k,i as N,g as S,S as J,f as K}from"./index.1d2c0c4b.js";const d=r=>(H("data-v-f932b528"),r=r(),L(),r),Q={class:"container-fluid pt-4 px-4"},W={key:0,class:"bg-light rounded d-flex align-items-center p-4"},Y=d(()=>e("h5",null,"Nouvelle classe",-1)),Z={key:1,class:"bg-light rounded d-flex align-items-center p-4"},ee={class:"bg-light rounded h-100 p-4"},te=d(()=>e("h6",{class:"mb-4"},"Hoverable Table",-1)),le={key:0,class:"table table-hover"},se=d(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"classe"),e("th",{scope:"col"},"Professeur principal"),e("th",{scope:"col"},"Nombre d'\xE9l\xE8ves"),e("th",{scope:"col"},"Eleve d\xE9l\xE9gu\xE9"),e("th",{scope:"col"},"Actions")])],-1)),ae=["onDblclick"],oe={scope:"row"},ne=["onClick"],ce=["onClick"],ie={key:1,class:"table table-hover"},de=d(()=>e("thead",null,[e("tr",{class:"text-dark"},[e("th",{scope:"col"},"no"),e("th",{scope:"col"},"Nom"),e("th",{scope:"col"},"Pr\xE9nom"),e("th",{scope:"col"},"Genre"),e("th",{scope:"col"},"Date de naissance"),e("th",{scope:"col"},"Action")])],-1)),re={scope:"row"},ue=["onClick"],me={key:0,class:"modal-adduser"},pe=d(()=>e("div",{class:"overlay"},null,-1)),_e={class:"modale card"},be={class:"col-sm-12 col-xl-12"},fe={class:"bg-light rounded h-100 p-4"},he=d(()=>e("h6",{class:"mb-4"},"Creer une classe ",-1)),ve=["onSubmit"],ge={class:"mb-3"},ke=D('<label for="Nom" class="form-label" data-v-f932b528>Nom de la classe</label><input name="name" type="text" class="form-control" id="Nom" data-v-f932b528><div class="mb-2 mt-2" data-v-f932b528><label class="form-label me-3" data-v-f932b528> Classe d&#39;examen</label><div class="form-check form-check-inline" data-v-f932b528><input class="form-check-input" type="radio" name="gender" id="inlineRadio1" value="F" data-v-f932b528><label class="form-check-label" for="inlineRadio1" data-v-f932b528>OUI </label></div><div class="form-check form-check-inline" data-v-f932b528><input class="form-check-input" type="radio" name="gender" id="inlineRadio2" value="M" data-v-f932b528><label class="form-check-label" for="inlineRadio2" data-v-f932b528>NON</label></div></div><label for="ProfPrincipal" class="form-label" data-v-f932b528>Prof. Principal</label>',4),ye={name:"ProfPrincipal",class:"form-select form-select-sm mb-3","aria-label":".form-select-sm example"},xe=["value"],$e=D('<label for="eleveDelegue" class="form-label" data-v-f932b528>Eleve delegue</label><select name="eleveDelegue" class="form-select form-select-sm mb-3" aria-label=".form-select-sm example" data-v-f932b528><option value="Ilan" data-v-f932b528>Ilan</option><option value="yoan" data-v-f932b528>yoan</option><option value="samuel" data-v-f932b528>samuel</option></select>',2),Ce=d(()=>e("button",{type:"submit",class:"btn btn-primary"},"Ajouter",-1)),we={async setup(r){let u,h,A=$("div");console.log(A);async function I(s){let l="classe/"+s;return console.log(l,"obj"),(await k.api3(l)).data}let i=U(),{paginationc:Ne,classe:O,student:Se,classStudents:y,classSelector:m,prof:T}=M(i),B=i.$state.classe;i.$state.student;let _=X({addclasse:!1,lt:""});async function E(s){let l=[];for(let t=0;t<s.length;t++)console.log(l[t],"new",s[t].name),l[t]=await I(s[t].name);return l}let x=([u,h]=q(()=>E(B)),u=await u,h(),u);console.log(x[0]);function R(s){P.post("/api/v1/classe",{name:s.name,ProfPrincipal:s.ProfPrincipal,eleveDelegue:s.eleveDelegue}).then(async function(l){let t=await k.api3("classe");i.$patch({classe:t.data})}).catch(function(l){console.log(l)})}const V=async function(s){const l=Object.fromEntries(new FormData(s.target));R(l),_.addclasse=!1};function C(s){console.log("id:",s),P.delete("/api/v1/classe/"+s).then(async function(l){let t=await k.api3("classe");i.$patch({classe:t.data}),console.log(l)}).catch(l=>{console.log(l)})}function w(s){i.$patch({classSelector:s}),console.log(s,"val")}return(s,l)=>(n(),c(f,null,[e("div",Q,[a(m)===null?(n(),c("div",W,[e("button",{type:"button",class:"btn btn-rounded btn-primary m-2",onClick:l[0]||(l[0]=t=>a(_).addclasse=!0)},"+"),Y])):p("",!0),a(m)!==null?(n(),c("div",Z,[e("h5",null,o(a(m))+" "+o(a(y).length),1),e("div",{onClick:l[1]||(l[1]=t=>a(i).$patch({classSelector:null}))},"back")])):p("",!0),e("div",ee,[te,a(m)===null?(n(),c("table",le,[se,e("tbody",null,[(n(!0),c(f,null,g(a(O),(t,b)=>(n(),c("tr",{onDblclick:v=>w(t.name)},[e("th",oe,o(b+1),1),e("td",null,o(t.name),1),e("td",null,o(t.ProfPrincipal),1),e("td",null,o(a(x)[b]),1),e("td",null,o(t.eleveDelegue),1),e("td",null,[e("div",{onClick:v=>C(t._id),class:"btn btn-sm btn-danger m-2"},"X",8,ne),e("div",{onClick:v=>w(t.name)},"TOUT",8,ce)])],40,ae))),256))])])):p("",!0),a(m)!==null?(n(),c("table",ie,[de,e("tbody",null,[(n(!0),c(f,null,g(a(y),(t,b)=>(n(),c("tr",null,[e("th",re,o(b+1),1),e("td",null,o(t.name),1),e("td",null,o(t.surname),1),e("td",null,o(t.gender),1),e("td",null,o(t.dateOfBirth),1),e("td",null,[e("div",{onClick:v=>C(t._id),class:"btn btn-sm btn-danger m-2"},"X",8,ue)])]))),256))])])):p("",!0)])]),a(_).addclasse==!0?(n(),c("div",me,[pe,e("div",_e,[e("div",{onClick:l[2]||(l[2]=t=>a(_).addclasse=!1),class:"btn-modale btn btn-danger"}," X "),e("div",be,[e("div",fe,[he,e("form",{onSubmit:z(V,["prevent"])},[e("div",ge,[ke,e("select",ye,[(n(!0),c(f,null,g(a(T),t=>(n(),c("option",{value:t.name},o(t.name),9,xe))),256))]),$e]),Ce],40,ve)])])])])):p("",!0),G(" "+o(),1)],64))}};var Pe=F(we,[["__scopeId","data-v-f932b528"]]);const Ie={setup(r){return(u,h)=>(n(),N(j,null,{default:S(()=>[(n(),N(J,null,{default:S(()=>[K(Pe)]),_:1}))]),_:1}))}};export{Ie as default};
